# cakeweb1

## インストール方法


## ディレクトリの権限設定

tmpディレクトリ以下は、コマンドラインからもApacheからも書き換えが発生します。
そのため、以下のように権限設定してください。

(毎回、書き込みエラーが発生するたびに、tmpディレクトリ以下の全ディレクトリを777に設定しても良いですが、
面倒なので）

### tmpディレクトリの権限設定

以下の手順により、tmpディレクトリを空にした状態で、sgidを設定してください。

    $ sudo rm -rf tmp/*
    $ chmod g+s tmp

こうすることにより、tmp以下にapacheがディレクトリを作成した場合も、グループユーザーは自分(=git cloneしたユーザー)
のままになります。

### Apacheの設定
 
umaskを002にしてください。
CentOS7であれば、/usr/lib/systemd/system/httpd.service に

    [Service]
    UMask=0002

のように記述して、Apacheを再起動してください。
こうすることにより、tmp以下にapacheがディレクトリを作成した場合、その権限が0775 (02775)になります。


